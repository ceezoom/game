@charset "UTF-8";
/* CSS Document */

    :root{
      --bg0:#060717; --bg1:#0b1030;
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.62);
      --shadow: 0 0 70px rgba(0,0,0,.62);
      --maxw: 560px;
      --safeTop: env(safe-area-inset-top, 0px);
      --safeBottom: env(safe-area-inset-bottom, 0px);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, "PingFang SC","Microsoft YaHei", Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 900px at 50% -8%, rgba(109,40,217,.42), transparent 55%),
        radial-gradient(900px 700px at 50% 120%, rgba(0,229,255,.22), transparent 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow:hidden;
    }
    .app{height:100%; display:flex; justify-content:center; position:relative;}
    #fx{ position:fixed; inset:0; width:100vw; height:100vh; pointer-events:none; z-index:100; }

    .wrap{
      width:min(var(--maxw), 100%);
      height:100%;
      padding: calc(12px + var(--safeTop)) 16px calc(14px + var(--safeBottom));
      display:flex; flex-direction:column; gap:10px;
      position:relative; z-index:1;
    }
    .topbar{
      display:flex; align-items:center; justify-content:space-between;
      padding:8px 4px 2px; user-select:none;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      font-weight:950; letter-spacing:.08em;
      color: rgba(255,255,255,.90); font-size: 16px;
    }
    .brand .dot{
      width:10px;height:10px;border-radius:999px;
      background: linear-gradient(90deg, rgba(255,0,192,.95), rgba(0,230,233,.95));
      box-shadow: 0 0 18px rgba(255,0,192,.25), 0 0 18px rgba(0,230,233,.22);
    }
    .iconbtn{
      width:44px;height:44px;border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      backdrop-filter: blur(10px);
      display:grid; place-items:center;
      cursor:pointer; transition: transform .08s ease, opacity .2s ease;
    }
    .iconbtn:active{transform: scale(.96)}
    .iconbtn svg{opacity:.92}
    .iconbtn.hidden{opacity:0; pointer-events:none;}

    .stage{
      flex:1; display:flex; flex-direction:column;
      align-items:center; justify-content:center; gap:10px;
      min-height: 580px;
    }
    .phaseHeader{
      width:min(560px, 96vw);
      text-align:center;
      padding: 4px 0 4px;
    }
    .phaseTitle{
      font-size: 46px; font-weight: 1000; letter-spacing:.02em;
      margin: 0;
      text-shadow: 0 10px 28px rgba(0,0,0,.55);
    }
    .phaseSub{
      margin: 10px 0 0;
      color: var(--muted);
      letter-spacing:.08em;
      font-size: 16px;
      min-height: 20px;
    }
    .statsRow{
      margin: 10px 0 0;
      display:flex; gap:10px; justify-content:center;
      flex-wrap:wrap; user-select:none;
    }
    .pill{
      padding: 6px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.12);
      color: rgba(255,255,255,.86);
      font-weight: 900;
      letter-spacing:.08em;
      font-size: 12px;
    }
    .cycleInfo{
      margin: 10px 0 0;
      color: rgba(255,255,255,.76);
      font-weight: 950;
      letter-spacing:.08em;
      font-size: 14px;
    }

    .canvasWrap{
      position:relative;
      width: min(540px, 96vw);
      aspect-ratio: 1/1;
      border-radius: 999px;
      filter: drop-shadow(0 0 90px rgba(0,0,0,.60));
    }
    #cvs{width:100%; height:100%; display:block;}

    .centerNum{
      position:absolute; inset:0;
      display:flex; align-items:center; justify-content:center;
      pointer-events:none;
      text-align:center;
    }
    .bigNum{
      font-size: 86px;
      font-weight: 1000;
      letter-spacing:-0.02em;
      text-shadow: 0 18px 56px rgba(0,0,0,.70);
      font-variant-numeric: tabular-nums;
      display:none;
      transform: translateY(2px);
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.65));
    }
    .readyBadge{
      display:none;
      padding: 14px 18px;
      border-radius: 999px;
      background: rgba(0,0,0,.26);
      border: 1px solid rgba(255,255,255,.10);
      backdrop-filter: blur(10px);
      box-shadow: 0 18px 60px rgba(0,0,0,.35);
      font-weight: 950;
      letter-spacing:.12em;
      color: rgba(255,255,255,.92);
      font-size: 14px;
    }

    .controls{
      width:min(560px, 96vw);
      display:flex; gap:12px; justify-content:center;
      padding: 8px 0 2px;
    }
    .btn{
      border:0; padding: 16px 18px;
      border-radius: 999px; cursor:pointer;
      font-weight: 1000; letter-spacing:.10em;
      color:#fff; min-width: 280px;
      background: linear-gradient(90deg, rgba(0,230,233,.98), rgba(255,0,192,.98));
      box-shadow: 0 18px 42px rgba(0,0,0,.45);
      display:flex; align-items:center; justify-content:center; gap:10px;
      transition: transform .08s ease; user-select:none;
    }
    .btn:active{transform: scale(.98)}
    .btn.danger{
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.14);
      box-shadow:none;
      color: rgba(255,255,255,.92);
      min-width: 200px;
    }
    .foot{
      text-align:center; color: rgba(255,255,255,.55);
      letter-spacing:.08em; padding-bottom: 4px;
      user-select:none;
    }

    .modalMask{
      position:absolute; inset:0;
      background: rgba(0,0,0,.55);
      backdrop-filter: blur(10px);
      display:none; align-items:center; justify-content:center;
      padding: 18px; z-index:50;
    }
    .modalMask.show{display:flex}
    .modal{
      width: min(420px, 92vw);
      background: rgba(18,18,26,.86);
      border:1px solid rgba(255,255,255,.10);
      border-radius: 30px;
      padding: 22px 20px;
      box-shadow: var(--shadow);
    }
    .modal h3{
      margin:0 0 16px;
      font-size: 20px; letter-spacing:.06em;
      display:flex; align-items:center; gap:10px;
    }
    .row{margin:16px 0}
    .rowHead{
      display:flex; justify-content:space-between;
      margin-bottom:10px;
      color: rgba(255,255,255,.82);
      font-size:14px; letter-spacing:.06em;
    }
    input[type="range"]{width:100%}
    .chip{
      font-family: ui-monospace, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-weight:950;
      padding:2px 8px;
      border-radius:999px;
      background: rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.12);
    }
    .save{
      width:100%; margin-top:18px;
      padding:14px 16px; border-radius:16px;
      border:0; cursor:pointer;
      font-weight: 1000;
      background: #fff; color:#000;
      letter-spacing:.10em;
    }
    .dangerBtn{
      width:100%;
      margin-top:10px;
      padding:14px 16px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.18);
      cursor:pointer;
      font-weight: 1000;
      background: rgba(255,255,255,.08);
      color: rgba(255,255,255,.92);
      letter-spacing:.10em;
    }
    .dangerBtn:active{transform: scale(.99)}
    .hint{
      margin-top:10px;
      font-size:12px;
      color: rgba(255,255,255,.55);
      letter-spacing:.04em;
      line-height:1.45;
    }